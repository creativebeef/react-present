#!/bin/bash

dist="$(dirname ${1})/dist/$(basename ${1})"
zipDist="${dist}/$(basename ${1}).zip"
echo "building presentation ${1} -> ${dist}"
rm -rf ${dist}
webpack --config="webpack.config.js" --entry="${1}/index.js" --output-path="${dist}" --output-filename="index.js" && \
echo "zipping presentation ${dist}/* -> ${zipDist}" && \
zip -r "${zipDist}" "${dist}/"
